<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" type="image/jpg" href="/prueba/imge/dv logo neon.png">
    <title>Iniciar Sesión</title>
</head>
<body>
    <div class="neon">BIENVENIDO  DV
    </div>
    <div class="bloque2">
        <br>
        <br>
        <h3>INICIAR SESIÓN</h3>
        <br>
        <input type="email" placeholder="Correo Electronico" name=""id="email1">
        <br>
        <br>
        <input type="password" placeholder="Contraseña" name=""id="pass1">
        <br>
        <br>
        <div class="led"><button id="iniciar" class="cc">Iniciar Sesión </button></div>
        <br>
        <br>
        <br>
        <a href="/index.html",_self class="boton" >Crear Cuenta</a>

    </div>



    <script type="module">
        // Importe las funciones que necesita desde los SDK que necesita
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword,signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-auth.js";
        //import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-auth.js";
        // TODO: Agrega SDK para los productos de Firebase que quieras usar
        // https://firebase.google.com/docs/web/setup#available-libraries
        // Configuración de Firebase de tu aplicación web
        const firebaseConfig = {
            apiKey: "AIzaSyBRq9FO9D2DTam4iPflwn27iurgbM7geWY",
            authDomain: "usuarios-8684f.firebaseapp.com",
            projectId: "usuarios-8684f",
            storageBucket: "usuarios-8684f.appspot.com",
            messagingSenderId: "152552123157",
            appId: "1:152552123157:web:a9dfb148005e2df24c171c"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        //inicializamos la autenticacion
        const auth = getAuth(app);
        //     //creamos el evento click al activar el boton ingresar 
        // document.getElementById("ingresar").addEventListener("click",function(){
        //     //generamos constante para tomar los datos
        //     const email=document.getElementById("email").value
        //     const password=document.getElementById("pass").value
        //     //copio el acceso a estos elementos 
        //     createUserWithEmailAndPassword(auth, email, password)
        //     .then((userCredential) => {
        //      // Se craera el usuario en firebase
        //     const user = userCredential.user;
        //     console.log("tu cuenta esta craedo con exito")
        //       // ...
        //     })
        //     .catch((error) => {
        //         //apareceran errores de llenado
        //     const errorCode = error.code;
        //     const errorMessage = error.message;
        //      // ..
        //     console.log(errorCode+errorMessage)
            
        //     });
            
        // })
        //creamos un evento para el boton iniciar 
        document.getElementById("iniciar").addEventListener("click",function(){
            const email1=document.getElementById("email1").value;
            const pass1 = document.getElementById("pass1").value;

            signInWithEmailAndPassword(auth, email1, pass1)
            .then((userCredential) => {
                // Signed in
            const user = userCredential.user;
            window.open("/bienvenido.html","_self")
            //console.log("ya puedes ingresar a la nueva la pagina")

                // ...
        })
        .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            console.log("tu cuenta no existe")

        });
    })
    </script>

</body>
</html>